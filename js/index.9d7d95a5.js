(function(){"use strict";var e={8279:function(e,t,i){var r=i(144),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"root"},[r("div",{staticStyle:{display:"flex",gap:"8px"}},[r("button",{on:{click:e.handleClick}},[e._v(" 转换方向 ")]),r("button",{on:{click:function(t){return e.hanldeZoom(0)}}},[e._v("缩小")]),r("button",{on:{click:function(t){return e.hanldeZoom(1)}}},[e._v("增大")])]),r("div",{staticClass:"container"},[r("svg-tree-org",{ref:"treeOrgRef",attrs:{data:e.data,direction:e.direction,zoomable:e.zoomable,treeCenter:!0,collapsable:!0,lineColor:"#115DDB",lineWidth:e.lineWidth,lineArrow:e.lineArrow,lineCircle:e.lineCircle,defaultScale:1,nodeWidth:100,nodeHeight:24,rootNodesep:100,marginSize:5,linkNodeData:e.linkData},on:{"line-mouseover":e.handleLineMouseover},scopedSlots:e._u([{key:"node",fn:function(t){return[0===t.node.parent_id?r("div",{staticClass:"node-item",staticStyle:{display:"flex","align-items":"center",gap:"8px"}},[r("img",{staticStyle:{width:"24px"},attrs:{src:i(6986),alt:""}}),r("p",{staticStyle:{display:"inline-block",color:"#999",margin:"0","font-size":"12px"}},[e._v(e._s(t.node.id)+"Desktop")])]):r("div",{staticClass:"node-item",staticStyle:{display:"flex","align-items":"center",gap:"8px"}},[r("img",{staticStyle:{width:"24px"},attrs:{src:i(6954),alt:""}}),r("p",{staticStyle:{display:"inline-block",color:"#999",margin:"0","font-size":"12px"}},[e._v(e._s(t.node.id)+"Desktop")])])]}}])})],1)])},l=[],o=i(5706),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"treeBox",staticClass:"tree-box",on:{wheel:e.zoom,mousedown:e.mousedown,mouseup:e.mouseup,mousemove:e.drag}},[i("svg",{ref:"svgRef",staticStyle:{display:"block",margin:"auto"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",draggable:"true",width:e.treeWidth,height:e.treeHeight,viewBox:e.viewBox,version:"1.1"}},e._l(e.treeData,(function(t){return i("tree-node",{key:t.id,attrs:{id:t.id,lineWidth:e.lineWidth,lineColor:e.lineColor,treeDirection:e.direction,node:t,hasSlot:e.$scopedSlots.node,lineArrow:e.lineArrow,lineCircle:e.lineCircle,collapsable:e.collapsable,source:e.linkNodeData.find((function(e){return e.source===t.id}))?t.id:"",target:e.linkNodeData.find((function(e){return e.target===t.id}))?t.id:""},on:{"line-mouseover":e.handleLineMouseover,"line-mouseout":e.handleLineMouseout},scopedSlots:e._u([{key:"node",fn:function(t){return[e._t("node",null,{node:t.node})]}}],null,!0)})})),1)])},d=[],s=i(7327);const u=e=>{let t=JSON.parse(JSON.stringify(e));const i=e=>{const r=t.filter((t=>t.parent_id===e.id));0===e.id&&(r[0].first=!0);const n=t.filter((t=>t.parent_id!==e.id));t=n,e.children=r;const l=isNaN(e?.level??0)?1:Number(e.level)+1;for(const t of e?.children??[])t.level=l,i(t)},r={id:0,level:0};return i(r),t=r.children||[],t.forEach((e=>{e.first||c([e])})),t};function c(e){if(!Array.isArray(e)||0===e.length)return null;for(const t of e){if(!t.children||0===t.children.length)return t;{const e=c(t.children);if(e)return e.firstLeafNode=!0,e}}return null}const h=(e,t)=>{if(!Array.isArray(t)||0===t.length)return null;for(const i of t){if(i.id===e)return i;if(i.children&&i.children.length>0){const t=h(e,i.children);if(t)return t}}return null},v=(e,t={})=>{const i="http://www.w3.org/2000/svg",r="http://www.w3.org/1999/xlink",n=document.createElementNS(i,e);"svg"===e&&(n.setAttribute("xmlns:xlink",r),n.setAttribute("draggable","true"));for(const l in t)"xlink:href"===l?n.setAttributeNS(r,l,t[l]):n.setAttribute(l,t[l]);return n};class f{constructor(e={}){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"parent_id",void 0),(0,s.Z)(this,"first",void 0),(0,s.Z)(this,"lastLeafNode",void 0),(0,s.Z)(this,"firstLeafNode",void 0),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"level",void 0),(0,s.Z)(this,"children",void 0),(0,s.Z)(this,"line1",void 0),(0,s.Z)(this,"line2",void 0),(0,s.Z)(this,"marginSize",void 0),(0,s.Z)(this,"rootNodesep",void 0),(0,s.Z)(this,"xStart",void 0),(0,s.Z)(this,"yStart",void 0),(0,s.Z)(this,"direction","horizontal"),(0,s.Z)(this,"treeDirection","horizontal"),(0,s.Z)(this,"nodeText",[]),(0,s.Z)(this,"width",void 0),(0,s.Z)(this,"height",void 0),(0,s.Z)(this,"middle",void 0),(0,s.Z)(this,"verticalMiddle",void 0),(0,s.Z)(this,"lineColor",void 0),(0,s.Z)(this,"lineDasharray",void 0),(0,s.Z)(this,"close",void 0),(0,s.Z)(this,"prevNode",void 0),(0,s.Z)(this,"nextNode",void 0),(0,s.Z)(this,"parentNode",void 0),(0,s.Z)(this,"toolsHandle",void 0);for(const t in e)this[t]=e[t]}setNodeText(){console.log(this.nodeText)}createRect(){return v("rect")}createText(){return v("g")}createTools(){return v("text")}createLine(){return v("g")}}var p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("g",{attrs:{collapse:e.collapse,id:e.node.id,root:0===e.node.parent_id}},[e.$scopedSlots.node?i("foreignObject",{attrs:{x:e.node.xStart,y:e.node.yStart,width:e.node.width,height:e.node.height}},[e._t("node",null,{node:e.node})],2):e._e(),e.hasSlot?e._e():i("rect",{staticClass:"node-rect",attrs:{x:e.node.xStart,y:e.node.yStart,width:e.node.width,height:e.node.height,rx:"2",fill:"white",stroke:"#ddd","stroke-width":"1"}}),e.hasSlot?e._e():i("g",[i("text",{attrs:{fill:"black",stroke:"none","font-size":e.fontSize,"letter-spacing":e.letterSpacing,"text-anchor":"middle","dominant-baseline":"middle",x:e.middle,y:e.startY}},[e._v(e._s(e.nodeText[0]))])]),e._l(e.childNodes,(function(t){return i("tree-node",{key:t.id,style:{display:e.node.close?"none":""},attrs:{id:t.id,node:t,treeDirection:t.treeDirection,lineWidth:e.lineWidth,lineColor:e.lineColor,hasSlot:e.hasSlot,lineArrow:e.lineArrow,lineCircle:e.lineCircle,collapsable:e.collapsable,source:e.linkNodeData.find((function(e){return e.source===t.id}))?t.id:"",target:e.linkNodeData.find((function(e){return e.target===t.id}))?t.id:""},on:{"line-mouseover":e.handleLineMouseover,"line-mouseout":e.handleLineMouseout},scopedSlots:e._u([{key:"node",fn:function(t){return[e._t("node",null,{node:t.node})]}}],null,!0)})})),i("g",{attrs:{id:"node-line",close:String(e.node.close)}},[e.node.parentNode&&e.node.prevNode?i("path",{staticClass:"line1",attrs:{d:e.line1Dth,fill:"none",stroke:e.lineColor,"stroke-width":e.lineWidth,"stroke-linejoin":"round","stroke-linecap":"round"}}):e._e(),i("g",{attrs:{fill:"none",stroke:e.node.lineColor||e.lineColor,"stroke-dasharray":e.node.lineDasharray||"none"},on:{mouseover:function(t){return e.handleLineMouseover(e.node)},onmouseout:function(t){return e.handleLineMouseout(e.node)}}},[i("defs",[e.lineArrow.open?i("marker",{attrs:{id:e.node.id+"triangleMarker",markerUnits:"strokeWidth",markerWidth:e.lineArrow.markerWidth,markerHeight:e.lineArrow.markerHeight,refX:e.lineArrow.refX,refY:e.lineArrow.refY,orient:"auto"}},[i("polygon",{attrs:{fill:e.node.lineColor||e.lineColor,points:"0,0  "+e.lineArrow.markerWidth+", "+e.lineArrow.markerHeight/2+"  0, "+e.lineArrow.markerHeight}})]):e._e()]),i("defs",[e.lineCircle.open&&e.node.children&&e.node.children.length>0?i("marker",{attrs:{id:e.node.id+"circleMarker",markerWidth:e.lineCircle.markerWidth,markerHeight:e.lineCircle.markerHeight,refX:e.lineCircle.refX,refY:e.lineCircle.refY,orient:"auto",markerUnits:"userSpaceOnUse"}},[i("circle",{attrs:{stroke:e.node.children[0].lineColor?e.node.children[0].lineColor:e.lineColor,cx:e.lineCircle.markerWidth/2,cy:e.lineCircle.markerHeight/2,r:e.lineCircle.r,"stroke-width":e.lineCircle.strokeWidth,"stroke-dasharray":"none"}})]):e._e()]),e.node.parentNode?i("path",{staticClass:"line2",style:{markerEnd:"url(#"+e.node.id+"triangleMarker)"},attrs:{d:e.line2Dth,"stroke-width":e.lineWidth,"stroke-linecap":"round"}}):e._e(),e.node.children&&e.node.children.length>0?i("path",{staticClass:"lineChild",style:{markerEnd:"url(#"+e.node.id+"circleMarker)"},attrs:{d:e.linesChildDth,"stroke-width":e.lineWidth,"stroke-linecap":"round",stroke:e.node.children[0].lineColor?e.node.children[0].lineColor:e.lineColor,"stroke-dasharray":e.node.children[0].lineDasharray?e.node.children[0].lineDasharray:"none"}}):e._e()]),e.node.children&&e.node.children.length>0&&e.collapsable?i("circle",{staticStyle:{cursor:"pointer"},attrs:{cx:"vertical"===e.node.treeDirection?e.collaspeVerticalStartY:e.middle,cy:"vertical"===e.node.treeDirection?e.verticalMiddle:e.collaspeStartY,r:e.collapseSize,fill:"white",stroke:e.node.children[0].lineColor?e.node.children[0].lineColor:e.lineColor,"stroke-width":e.lineWidth},on:{click:e.handleCollapse}}):e._e(),e.node.children&&e.node.children.length>0&&e.collapsable?i("text",{staticStyle:{cursor:"pointer"},attrs:{x:"vertical"===e.node.treeDirection?e.collaspeVerticalStartY:e.middle,y:"vertical"===e.node.treeDirection?e.verticalMiddle:e.collaspeStartY,"font-size":12,fill:e.lineColor,stroke:e.node.children[0].lineColor?e.node.children[0].lineColor:e.lineColor,"text-anchor":"middle","dominant-baseline":"middle"},on:{click:e.handleCollapse}},[e._v(e._s(e.node.close?"+":"-"))]):e._e()]),i("g",{attrs:{id:"link-line"}},[i("path",{staticClass:"link-line",staticStyle:{"marker-mid":"url(#markerArrow)"},attrs:{id:e.node.id+"line-path",d:e.linkLineDth,fill:"none",stroke:e.linkLineColor,"stroke-width":e.lineWidth}}),i("text",{style:{dominantBaseline:"central",fill:e.linkLineColor,fontSize:"8px"}},[i("textPath",{attrs:{"xlink:href":"#"+e.node.id+"line-path",startOffset:"30%"}},[e._v("➤")]),i("textPath",{attrs:{"xlink:href":"#"+e.node.id+"line-path",startOffset:"60%"}},[e._v("➤")]),i("textPath",{attrs:{"xlink:href":"#"+e.node.id+"line-path",startOffset:"80%"}},[e._v("➤")])])])],2)},m=[];i(7658);const g=5,y=200,S=200,k=10,x=10;var C=(0,o.aZ)({name:"TreeNode",props:{node:{type:Object,default:()=>({})},id:{type:[String,Number],default:""},collapse:{type:Boolean,default:!0},fontSize:{type:Number,default:14},letterSpacing:{type:Number,default:3},lineColor:{type:String,default:"#ddd"},lineWidth:{type:Number,default:1},lineArrow:{type:Object,default:()=>({open:!1,markerWidth:5,markerHeight:8,refX:0,refY:4,margin:5})},lineCircle:{type:Object,default:()=>({open:!1,markerWidth:8,markerHeight:8,refX:0,refY:4,r:3,strokeWidth:2,margin:4})},collapsable:{type:Boolean,default:!0},collapseSize:{type:Number,default:6},treeDirection:{type:String,default:"horizontal"},hasSlot:{type:[Boolean,Function],default:!1},source:{type:[String,Number],default:""},target:{type:[String,Number],default:""}},setup(e,{emit:t}){const{node:i,fontSize:r,letterSpacing:n}=(0,o.BK)(e),l=(0,o.Fl)((()=>i.value.xStart+i.value.width/2)),a=(0,o.Fl)((()=>i.value.yStart+i.value.height/2)),d=(0,o.Fl)((()=>e.node.children)),s=(0,o.iH)([]),u=()=>{if(!i.value.name||e.hasSlot)return;const t=`${i.value.name}`;let l,o;const a="horizontal"===i.value.direction,d=t.length,u=((a?y:S)-g)/(r.value+n.value)-1;if(d>u){const e=Math.ceil(d/u);a?(l=y,o=e*(r.value+k)+g+r.value):(l=e*(r.value+k)+g+r.value,o=S),s.value=[];const i=e=>{e&&(s.value.push(e.substring(0,u)),i(e.substring(u)))};i(t)}else a?(l=g+(r.value+n.value)*d,o=g+r.value+k+r.value):(l=g+r.value+k+r.value,o=g+(r.value+n.value)*d),s.value=[t];l<120&&(l=120),i.value.width=l,i.value.height=o+x,i.value.nodeText=s.value},c=(0,o.Fl)((()=>i.value.yStart+g+r.value)),v=(0,o.Fl)((()=>i.value.xStart+r.value)),f=e=>"horizontal"===i.value.direction?{x:v.value,y:c.value+(r.value+k)*e}:{x:v.value+(r.value+n.value+10)*e,y:c.value,transform:`rotate(90, ${v.value+(r.value+n.value+10)*e}, ${c})`,rotate:"-90"},p=(0,o.iH)(""),m=(0,o.iH)(""),C=(0,o.iH)(""),w=(0,o.iH)(0),_=(0,o.iH)(0),b=()=>{const t=i.value.parentNode;if(i.value.middle=l.value,i.value.verticalMiddle=a.value,t){const r=t.yStart+t.height+t.line1,n=i.value.xStart-t.line2,o=e.lineArrow.open?e.lineArrow.markerWidth+e.lineArrow.margin:0;p.value="vertical"===i.value.treeDirection?`M ${n} ${a.value} L ${i.value.xStart-o} ${a.value} ${e.lineArrow.open?"":"z"}`:`M ${l.value} ${r} L ${l.value} ${i.value.yStart-o} ${e.lineArrow.open?"":"z"}`;const d=i.value.prevNode;if(d){const e="vertical"===i.value.treeDirection?`${n} ${d.verticalMiddle}`:`${d.middle} ${r}`,t="vertical"===i.value.treeDirection?`${n} ${a.value}`:`${l.value} ${r}`;m.value=`M ${e} L ${t} z`}}if(!i.value.children||i.value.children.length<=0)return;w.value=i.value.yStart+i.value.height+i.value.line1,_.value=i.value.xStart+i.value.width+i.value.line1;const r=e.lineCircle.open?e.lineCircle.markerWidth+e.lineCircle.margin:0;C.value="vertical"===i.value.treeDirection?`M ${i.value.xStart+i.value.width+r} ${a.value} L ${_.value} ${a.value} z`:`M ${l.value} ${i.value.yStart+i.value.height+r} L ${l.value} ${w.value} z`},N=(0,o.iH)(""),$=(0,o.iH)(""),D=(0,o.f3)("linkNodeData"),z=(0,o.f3)("treeData"),H=(0,o.f3)("rootNodesep"),Z=()=>{if(e.target){const t=D.find((t=>t.target===e.target))?.source??-1,r=D.find((t=>t.target===e.target))?.offset??[0,0,0,0];$.value=D.find((t=>t.target===e.target))?.lineColor??e.lineColor;const n=h(t,z),l=h(e.target,z);if(n?.xStart===l?.xStart){const e=Number(n?.yStart)+i.value.height/2,t=Number(l?.yStart)+i.value.height/2,r=Number(n?.xStart)-i.value.width/2,o=e+(t-e)/2;N.value=`M ${n?.xStart}, ${e} Q ${r}, ${o} ${l?.xStart}, ${t}`}else{const e=Number(n?.xStart)+i.value.width/2+r[0],t=Number(n?.yStart)+i.value.height+r[1],o=Number(l?.xStart)+i.value.width/2+r[2],a=Number(l?.yStart)+r[3],d=e,s=t+(a-t)/2,u=o,c=t+(a-t)/2;N.value=`M ${e},${t} C ${d},${s+H} ${u},${c} ${o},${a}`}}},A=()=>{i.value.close=!i.value.close},W=e=>{t("line-mouseover",e)},M=e=>{t("line-mouseout",e)};return(0,o.YP)((()=>e.treeDirection),(e=>{u(),b()})),(0,o.bv)((()=>{u(),b(),Z()})),{middle:l,verticalMiddle:a,startY:c,startX:v,nodeText:s,setAttrs:f,line1Dth:m,line2Dth:p,linesChildDth:C,collaspeStartY:w,collaspeVerticalStartY:_,handleCollapse:A,childNodes:d,handleLineMouseover:W,handleLineMouseout:M,createLinkLine:Z,linkNodeData:D,linkLineDth:N,linkLineColor:$}}}),w=C,_=i(1001),b=(0,_.Z)(w,p,m,!1,null,null,null),N=b.exports,$=i(3465),D=i.n($),z=(0,o.aZ)({name:"SvgTreeOrg",components:{treeNode:N},props:{data:{type:Array,default:()=>[]},linkNodeData:{type:Array,default:()=>[]},direction:{type:String,default:"horizontal"},collapsable:{type:Boolean,default:!0},toolsHandle:{type:Function,default:()=>null},lineWidth:{type:Number,default:1},lineColor:{type:String,default:"#ddd"},lineArrow:{type:Object,default:()=>({open:!1,markerWidth:5,markerHeight:8,refX:0,refY:4,margin:0})},lineCircle:{type:Object,default:()=>({open:!1,markerWidth:8,markerHeight:8,refX:0,refY:4,r:3,strokeWidth:2,margin:4})},zoomable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},nodeWidth:{type:Number,default:100},nodeHeight:{type:Number,default:60},rootNodesep:{type:Number,default:10},marginSize:{type:Number,default:10},line1:{type:Number,default:30},line2:{type:Number,default:80},treeCenter:{type:Boolean,default:!0},defaultScale:{type:Number,default:1}},setup(e,{emit:t}){const i=(0,o.iH)(null),r=(0,o.iH)(null),n=(0,o.iH)([]);let l=[];const a=e=>{e&&0!==e.length?(n.value=u(D()(e)),l=u(D()(e))):n.value=[]},d=(0,o.iH)(0),s=(0,o.iH)(0),c=(0,o.iH)("0 0 0 0");let h=0,v=0;const p=()=>{const t={},i={};let r=0,o=0;const a=(n,l)=>{if(!n||n.length<=0)return;const d=l?l.yStart+("vertical"===e.direction?0:l.line1+l.line2)+l.height:0,s=l?l.xStart+("horizontal"===e.direction?0:l.line1+l.line2)+l.width:0;n.forEach(((u,c)=>{const h=new f(u);if(h.width=e.nodeWidth,h.height=e.nodeHeight,h.marginSize=e.marginSize,h.rootNodesep=e.rootNodesep,h.line1=e.line1,h.line2=e.line2,h.yStart=d,"vertical"===e.direction&&(h.xStart=s),h.parentNode=l,h.prevNode=n[c-1],h.nextNode=n[c+1],h.toolsHandle=e.toolsHandle,h.treeDirection=e.direction,h.close=!1,n[c]=h,t[u.level]>r&&(r=t[u.level]),i[u.level]>o&&(o=i[u.level]),h.children&&h.children.length){const l=r,d=o;a(h.children,h);const s=h.children[h.children.length-1],u=h.children[0],v=(s.xStart+s.width-u.xStart-h.width)/2+u.xStart,f=(s.yStart+s.height-u.yStart-h.height)/2+u.yStart,p="vertical"===e.direction?f<d:v<l;if(p){const n="vertical"===e.direction?d-f:l-v,a=r=>{for(const l of r){if("vertical"===e.direction){l.yStart+=n;const e=l.yStart+l.height+l.marginSize;i[l.level]<e&&(i[l.level]=e)}if("horizontal"===e.direction){l.xStart+=n;const e=l.xStart+l.width+l.marginSize;t[l.level]<e&&(t[l.level]=e)}l.children&&l.children.length&&a(l.children)}};a(h.children),"vertical"===e.direction?o=d:r=v}else"vertical"===e.direction?o=f:r=v;"vertical"===e.direction?(h.yStart=o,n[c+1]&&(o+=h.height+h.marginSize)):(h.xStart=r,n[c+1]&&(r+=h.width+h.marginSize))}else"vertical"===e.direction?(h.yStart=o,o+=h.height+h.marginSize,h.rootNodesep&&h.firstLeafNode&&(h.yStart+=h.rootNodesep,o+=h.rootNodesep)):(h.xStart=r,r+=h.width+h.marginSize,h.rootNodesep&&h.firstLeafNode&&(h.xStart+=h.rootNodesep,r+=h.rootNodesep));"vertical"===e.direction?i[u.level]=o:t[u.level]=r})),d>v&&(v=d),s>h&&"vertical"===e.direction&&(h=s),r>h&&(h=r),o>v&&"vertical"===e.direction&&(v=o)};a(l),n.value=l,m()},m=async()=>{const t=r.value&&window.getComputedStyle(r.value).width,i=r.value&&window.getComputedStyle(r.value).height;d.value=Number(t?.split("px")[0]),s.value=Number(i?.split("px")[0]);const n=e.treeCenter&&(d.value-h)/2>0?(d.value-h)/2:0,l=e.treeCenter&&(s.value-v)/2>0?(s.value-v)/2:0;if(c.value=`${-n} ${-l} ${1*d.value/e.defaultScale} ${1*s.value/e.defaultScale}`,1===e.defaultScale)return;await(0,o.Y3)();const a=r.value?.children[0].lastElementChild;if(a){const t=a.getBoundingClientRect().width,i=a.getBoundingClientRect().height,r=e.treeCenter&&d.value-t>0?(d.value-t)/2/e.defaultScale:0,n=e.treeCenter&&s.value-i>0?(s.value-i)/2/e.defaultScale:0;c.value=`${-r} ${-n} ${1*d.value/e.defaultScale} ${1*s.value/e.defaultScale}`}},g=()=>{(0,o.JJ)("linkNodeData",e.linkNodeData),(0,o.JJ)("treeData",l),(0,o.JJ)("rootNodesep",e.rootNodesep)},y=e=>{const t=c.value.split(" ").map((e=>parseFloat(e))),r={x:e.clientX,y:e.clientY};let n=i.value?.createSVGPoint(),l=i.value?.getScreenCTM();n&&(n.x=r.x,n.y=r.y);const o=n?.matrixTransform(l?.inverse());l=i.value?.getScreenCTM();let a=n?.matrixTransform(l?.inverse());return{startViewBox:t,newSVGPoint:n,CTM:l,startSVGPoint:o,moveToSVGPoint:a}},S=e=>{const{startViewBox:i,startSVGPoint:r,moveToSVGPoint:n}=y(e);let l;l=e.deltaY>0?1.1:e.deltaY<0?.9:1,c.value=`${i[0]} ${i[1]} ${i[2]*l} ${i[3]*l}`;let o={dx:r&&n?r.x-n.x:0,dy:r&&n?r.y-n.y:0},a=c.value.split(" ").map((e=>parseFloat(e))),d=`${a[0]+o.dx} ${a[1]+o.dy} ${a[2]} ${a[3]}`;c.value=d,t("zoom",c.value)},k=e=>{const i=c.value.split(" ").map((e=>parseFloat(e)));c.value=`${i[0]} ${i[1]} ${i[2]*e} ${i[3]*e}`,t("zoom",c.value)},x=()=>{const e=1;k(e+.1)},C=()=>{const e=1;k(e-.1)},w=(0,o.iH)(!1),_=()=>{w.value=!0},b=()=>{w.value=!1},N=t=>{if(!w.value||!e.draggable)return;const r=c.value.split(" ").map((e=>parseFloat(e))),n={x:t.clientX,y:t.clientY};let l=i.value?.createSVGPoint(),o=i.value?.getScreenCTM();l&&(l.x=n.x,l.y=n.y);const a=l?.matrixTransform(o?.inverse());let d={x:t.clientX+t.movementX,y:t.clientY+t.movementY};l=i.value?.createSVGPoint(),o=i.value?.getScreenCTM(),l&&(l.x=d.x,l.y=d.y);let s=l?.matrixTransform(o?.inverse());if(a&&s){let e={dx:a.x-s.x,dy:a.y-s.y},t=`${r[0]+e.dx} ${r[1]+e.dy} ${r[2]} ${r[3]}`;c.value=t}},$=e=>{t("line-mouseover",e)},z=e=>{t("line-mouseout",e)};return(0,o.YP)((()=>e.direction),(e=>{p()})),(0,o.bv)((()=>{e.data&&e.data.length>0&&(a(e.data),p()),e.linkNodeData&&g()})),{svgRef:i,treeBox:r,viewBox:c,currentTreeData:l,treeData:n,treeWidth:d,treeHeight:s,zoom:S,drag:N,mousedown:_,mouseup:b,handleLineMouseover:$,handleLineMouseout:z,zoomNarrow:x,zoomEnlarge:C,fitContent:m}}}),H=z,Z=(0,_.Z)(H,a,d,!1,null,null,null),A=Z.exports;const W=[{id:28,name:"大名称",parent_id:0},{id:38,name:"行政中心",parent_id:28},{id:40,name:"三层",parent_id:38},{id:41,name:"四层",parent_id:40},{id:65,name:"二层2",parent_id:28},{id:71,name:"二层5",parent_id:28},{id:72,name:"二层6",parent_id:28},{id:92,name:"二层6",parent_id:28},{id:93,name:"二层6",parent_id:28},{id:94,name:"二层6",parent_id:28},{id:95,name:"二层6",parent_id:28},{id:96,name:"二层6",parent_id:95},{id:97,name:"二层6",parent_id:95},{id:98,name:"二层6",parent_id:95},{id:99,name:"二层6",parent_id:95},{id:73,name:"二层5-1",parent_id:71},{id:76,name:"1212",parent_id:65},{id:81,name:"2121",parent_id:65},{id:82,name:"2123",parent_id:65,lineColor:"#2ABC80"},{id:83,name:"2124",parent_id:65,lineDasharray:"1, 5"},{id:100,name:"100",parent_id:0},{id:101,name:"101",parent_id:100},{id:102,name:"102",parent_id:101},{id:103,name:"103",parent_id:102,lineColor:"#2ABC80"},{id:104,name:"104",parent_id:103},{id:105,name:"105",parent_id:103},{id:106,name:"106",parent_id:103},{id:200,name:"200",parent_id:0},{id:201,name:"201",parent_id:200},{id:202,name:"202",parent_id:201},{id:203,name:"203",parent_id:202},{id:205,name:"205",parent_id:203},{id:206,name:"206",parent_id:203},{id:207,name:"207",parent_id:203}],M=[{source:28,target:100},{source:28,target:200},{source:28,target:104,offset:[-39,0,-39,0],lineColor:"#2ABC80"},{source:28,target:105,offset:[-39,0,-39,0],lineColor:"#2ABC80"},{source:28,target:106,offset:[-39,0,-39,0]},{source:28,target:205,offset:[-39,0,-39,0],lineColor:"#2ABC80"},{source:28,target:206,offset:[-39,0,-39,0],lineColor:"#2ABC80"},{source:28,target:207,offset:[-39,0,-39,0]}];var L=(0,o.aZ)({components:{SvgTreeOrg:A},setup(){const e=(0,o.iH)(null),t=(0,o.iH)("vertical"),i=(0,o.iH)(W),r=(0,o.iH)(M),n=()=>{"vertical"===t.value?t.value="horizontal":t.value="vertical"},l=(0,o.iH)(1),a=(0,o.iH)({open:!0,markerWidth:5,markerHeight:8,refX:0,refY:4,margin:0}),d=(0,o.iH)({open:!0,markerWidth:8,markerHeight:8,refX:4,refY:0,r:3,strokeWidth:2,margin:4}),s=e=>{console.log("node",e)},u=(0,o.iH)(!0),c=t=>{t>0?e.value?.zoomEnlarge():e.value?.zoomNarrow()};return{treeOrgRef:e,lineArrow:a,lineCircle:d,data:i,direction:t,zoomable:u,linkData:r,lineWidth:l,handleClick:n,handleLineMouseover:s,hanldeZoom:c}}}),O=L,Y=(0,_.Z)(O,n,l,!1,null,null,null),T=Y.exports;r.Z.config.productionTip=!1,r.Z.use(o.ZP),new r.Z({render:e=>e(T)}).$mount("#app")},6954:function(e,t,i){e.exports=i.p+"img/a-cartfull.9b6fa604.svg"},6986:function(e,t,i){e.exports=i.p+"img/home.bf4ca1e1.svg"}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}i.m=e,function(){var e=[];i.O=function(t,r,n,l){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],l=e[u][2];for(var a=!0,d=0;d<r.length;d++)(!1&l||o>=l)&&Object.keys(i.O).every((function(e){return i.O[e](r[d])}))?r.splice(d--,1):(a=!1,l<o&&(o=l));if(a){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,n,l]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){i.p=""}(),function(){var e={826:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,l,o=r[0],a=r[1],d=r[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(d)var u=d(i)}for(t&&t(r);s<o.length;s++)l=o[s],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(u)},r=self["webpackChunk_eyes22798_svg_tree_org"]=self["webpackChunk_eyes22798_svg_tree_org"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(8279)}));r=i.O(r)})();
//# sourceMappingURL=index.9d7d95a5.js.map